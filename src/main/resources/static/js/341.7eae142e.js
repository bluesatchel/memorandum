"use strict";(self["webpackChunkvue_manage"]=self["webpackChunkvue_manage"]||[]).push([[341],{341:function(t,e,r){r.r(e),r.d(e,{default:function(){return k}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"all"},[e("div",{staticClass:"value"},[e("p",{attrs:{id:"word"}},[t._v(" "+t._s(t.currentWord))])]),e("div",{staticClass:"announce"},[t._v(" 英式读音 /"+t._s(t.phoneticArr[0])+"/ "),e("el-button",{ref:"uk",attrs:{type:"primary",plain:"",icon:"el-icon-service",size:"mini"},on:{click:t.ukSpeech}}),t._v(" 美式读音 /"+t._s(t.phoneticArr[1])+"/ "),e("el-button",{ref:"us",attrs:{type:"primary",plain:"",icon:"el-icon-service",size:"mini"},on:{click:t.usSpeech}})],1),e("div",{staticClass:"translation"},t._l(t.basic.explains,(function(r,s){return e("ul",{key:s},[e("li",[t._v(" "+t._s(r)+" ")])])})),0),e("el-button",{attrs:{type:"primary",plain:"",id:"btn1"},on:{click:t.previous}},[t._v("上一个 ")]),e("el-button",{attrs:{type:"success",plain:"",id:"btn2"},on:{click:t.next}},[t._v("下一个 ")])],1)},i=[],n=r(9669),a=r.n(n);const h="50649feb1569418e",o="mtKD1CVzlGrj2rcSxK4DzTPz9m4zRscM";let l=-1;var c={name:"MyWords",data(){return{currentWord:"",wordList:[],basic:{},arr:[],keyArr:[],phoneticArr:[],query:{q:"string"}}},methods:{translate(){let t=(new Date).getTime(),e=Date.parse(new Date)/1e3;a()({method:"post",url:"http://121.40.113.226:7777/api/",headers:{"content-type":"application/x-www-form-urlencoded"},data:this.$qs.stringify({q:this.currentWord,from:"en",to:"zh-CHS",salt:t,curtime:e,appKey:h,sign:this.$sha256(h+this.truncate(this.currentWord)+t+e+o),signType:"v3",ext:"mp3",voice:"0",strict:"true"})}).then((t=>{this.basic=t.data.basic,this.arr=Object.values(this.basic),this.keyArr=Object.keys(this.basic);let e=0;for(e;e<this.keyArr.length;e++)if("uk-phonetic"==this.keyArr[e])break;this.phoneticArr[0]=this.arr[e];let r=0;for(r;r<this.keyArr.length;r++)if("us-phonetic"==this.keyArr[r])break;this.phoneticArr[1]=this.arr[r]}))},truncate(t){let e=t.length;return e<=20?t:t.substring(0,10)+e+t.substring(e-10,e)},next(){0!==this.wordList.length&&(l>=this.wordList.length-1?alert("已经到底了"):(l+=1,this.currentWord=this.wordList[l])),this.translate()},previous(){0==l?alert("已经到头了"):(l-=1,this.currentWord=this.wordList[l]),this.translate()},ukSpeech(){let t=new Audio,e=0;for(e;e<this.keyArr.length;e++)if("uk-speech"==this.keyArr[e])break;t.src=this.arr[e],t.play()},usSpeech(){let t=new Audio,e=0;for(e;e<this.keyArr.length;e++)if("us-speech"==this.keyArr[e])break;t.src=this.arr[e],t.play()}},mounted(){null!=this.$store.state.uid&&""!=this.$store.state.uid&&void 0!==this.$store.state.uid||(alert("请先登录"),this.$router.push("/login")),a()({method:"post",url:"http://121.40.113.226:7778/word/todayWords",data:{uid:this.$store.state.uid}}).then((t=>{this.wordList=t.data.data,0==this.wordList.length&&alert("今天还没有单词要背哦,先去添加单词吧,添加完一般第二天才可以获取,记得今天先背添加的单词哦"),this.next()}))}},u=c,d=r(1001),p=(0,d.Z)(u,s,i,!1,null,null,null),k=p.exports}}]);
//# sourceMappingURL=341.7eae142e.js.map