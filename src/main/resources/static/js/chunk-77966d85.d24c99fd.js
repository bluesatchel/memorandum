(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77966d85"],{"58af":function(e,t,s){"use strict";s("8638")},7966:function(e,t,s){"use strict";s("8d9f")},8638:function(e,t,s){},"8d9f":function(e,t,s){},eb24:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"all"},[t("el-button",{staticClass:"mark",attrs:{type:"danger",plain:"",size:"medium"},on:{click:e.markWord}},["0"==e.wordList[e.n].marked?t("div",[e._v("标记")]):t("div",[e._v("取消标记")])]),t("el-checkbox",{attrs:{id:"english"},model:{value:e.displayEnglish,callback:function(t){e.displayEnglish=t},expression:"displayEnglish"}},[e._v("英 ")]),t("el-checkbox",{attrs:{id:"chinese"},model:{value:e.displayChinese,callback:function(t){e.displayChinese=t},expression:"displayChinese"}},[e._v("中 ")]),e.isSentense?e._e():t("el-card",[e.displayEnglish?t("div",{staticClass:"value"},[t("p",{attrs:{id:"word"}},[e._v(" "+e._s(e.wordInfo.word)+" ")])]):e._e(),t("div",{staticClass:"announce"},[e._v(" 英式读音 "+e._s(e.wordInfo.uk_phonetic)+" "),t("el-button",{ref:"uk",attrs:{type:"primary",plain:"",icon:"el-icon-service",size:"mini"},on:{click:e.ukSpeech}}),t("br"),e._v(" 美式读音 "+e._s(e.wordInfo.us_phonetic)+" "),t("el-button",{ref:"us",attrs:{type:"primary",plain:"",icon:"el-icon-service",size:"mini"},on:{click:e.usSpeech}})],1),t("h3",[e._v("释义")]),e.displayChinese?t("div",[t("div",{staticClass:"explains"},e._l(e.wordInfo.explains,(function(s,i){return t("ul",{key:i},[t("li",[e._v(" "+e._s(s)+" ")])])})),0),e.wordInfo.wordGroup.length?t("div",[t("h3",[e._v("词组")]),e._l(e.wordInfo.wordGroup,(function(s,i){return t("ul",{key:i},[t("li",[e._v(" "+e._s(s)+" ")])])}))],2):e._e(),this.flag?e._e():t("div",[t("h3",[e._v("网络释义及词组")]),e._l(e.wordInfo.web,(function(s,i){return t("ul",{key:i},[t("li",[e._v(" "+e._s(s.key)+" "+e._s(s.value)+" ")])])}))],2),e.wordInfo.sentences.length?t("div",[t("h3",[e._v("双语例句")]),e._l(e.wordInfo.sentences,(function(s,i){return t("ul",{key:i},[t("li",[e._v(" "+e._s(s.en)+" "+e._s(s.cn)+" ")])])}))],2):e._e()]):e._e()]),e.isSentense?t("el-card",[t("h2",[e._v("句子")]),e.displayEnglish?t("h4",[e._v(" "+e._s(e.sentence.query)+" ")]):e._e(),t("br"),t("h2",[e._v("释义")]),e.displayChinese?t("h4",[e._v(" "+e._s(e.sentence.translation)+" ")]):e._e(),t("el-button",{ref:"uk",attrs:{type:"primary",plain:"",icon:"el-icon-service",size:"mini"},on:{click:e.sentenseSpeech}})],1):e._e(),t("p",{attrs:{id:"index"},on:{click:e.jump}},[e._v(" "+e._s(e.n+1)+"/"+e._s(e.wordList.length)+" ")]),t("el-button",{attrs:{type:"primary",plain:"",id:"btn1"},on:{click:e.previous}},[e._v("上一个 ")]),t("el-button",{attrs:{type:"success",plain:"",id:"btn2"},on:{click:e.next}},[e._v("下一个 ")])],1)},n=[],r=s("bc3a"),o=s.n(r),a={name:"MyWords",data(){return{currentWord:"",wordList:[],wordInfo:{sentences:[],wordGroup:[],uk_phonetic:"",us_phonetic:"",word:"",explains:"",web:""},phoneticArr:[],basic:{},arr:[],keyArr:[],flag:!0,isSentense:!1,sentence:{},n:0,displayEnglish:!0,displayChinese:!0}},methods:{markWord(){o()({method:"post",url:this.$baseURL+"/word/mark",data:this.$qs.stringify({wid:this.wordList[this.n].wid})}).then(e=>{console.log(e),200==e.data.status?(1==this.wordList[this.n].marked?this.wordList[this.n].marked=0:this.wordList[this.n].marked=1,this.open2(e.data.message)):this.$notify.error({title:"error",message:"标记失败"})})},jump(){this.open()},open(){this.$prompt("请输入要跳转的index","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/[0-9]+/,inputErrorMessage:"格式不正确,请输入纯数字"}).then(({value:e})=>{this.$message({type:"success",message:"跳转到"+e}),e>this.wordList.length&&e>=0?this.$message({type:"warning",message:"out of range!"}):(this.n=e-1,this.getWordInfo(this.wordList[this.n].value))}).catch(()=>{this.$message({type:"info",message:"取消输入"})})},open2(e){this.$message({showClose:!0,message:e,type:"success"})},getWordInfo(e){this.isSentense=!1,o()({method:"post",url:this.$baseURL+"/word/getWordInfo",data:this.$qs.stringify({word:e})}).then(e=>{400==e.data.status?(this.flag=!1,this.getFromYouDao(this.wordList[this.n].value),this.wordInfo.sentences=[],this.wordInfo.wordGroup=[]):(this.flag=!0,console.log(e),this.wordInfo=e.data.data)})},next(){this.n<this.wordList.length-1?(this.n++,this.getWordInfo(this.wordList[this.n].value)):this.open2("已经是最后一个单词了,今日共背了"+this.wordList.length+"个")},previous(){0==this.n?this.open2("已经到头了"):this.n>0&&(this.n--,-1!=this.n&&this.getWordInfo(this.wordList[this.n].value))},ukSpeech(){this.flag?this.FileukSpeech():this.YDukSpeech()},usSpeech(){this.flag?this.FileusSpeech():this.YDusSpeech()},FileukSpeech(){let e=new Audio;e.src="http://121.40.113.226/audio/"+this.wordInfo.word+"_uk.mp3",e.play()},FileusSpeech(){let e=new Audio;e.src="http://121.40.113.226/audio/"+this.wordInfo.word+"_us.mp3",e.play()},getFromYouDao(e){let t="mtKD1CVzlGrj2rcSxK4DzTPz9m4zRscM",s="50649feb1569418e",i=(new Date).getTime(),n=Date.parse(new Date)/1e3;o()({method:"post",url:this.$baseURL+"/api/",headers:{"content-type":"application/x-www-form-urlencoded"},data:this.$qs.stringify({q:e,from:"en",to:"zh-CHS",salt:i,curtime:n,appKey:s,sign:this.$sha256(s+this.truncate(e)+i+n+t),signType:"v3",ext:"mp3",voice:"0",strict:"true"})}).then(t=>{if(console.log(t.data),0==t.data.isWord)this.isSentense=!0,this.sentence.query=t.data.query,this.sentence.translation=t.data.translation,this.sentence.speakUrl=t.data.speakUrl;else{this.isSentense=!1,this.basic=t.data.basic,this.arr=Object.values(this.basic),this.keyArr=Object.keys(this.basic);let s=0;for(s;s<this.keyArr.length;s++)if("uk-phonetic"==this.keyArr[s])break;this.phoneticArr[0]=this.arr[s];let i=0;for(i;i<this.keyArr.length;i++)if("us-phonetic"==this.keyArr[i])break;this.phoneticArr[1]=this.arr[i],console.log(this.phoneticArr),this.wordInfo.uk_phonetic=this.phoneticArr[0],this.wordInfo.us_phonetic=this.phoneticArr[1],this.wordInfo.sentences=[],this.wordInfo.word=e,this.wordInfo.explains=this.basic.explains,this.wordInfo.wordGroup=[],this.wordInfo.web=t.data.web,console.log(this.wordInfo)}})},truncate(e){let t=e.length;return t<=20?e:e.substring(0,10)+t+e.substring(t-10,t)},YDukSpeech(){let e=new Audio,t=0;for(t;t<this.keyArr.length;t++)if("uk-speech"==this.keyArr[t])break;e.src=this.arr[t],e.play()},YDusSpeech(){let e=new Audio,t=0;for(t;t<this.keyArr.length;t++)if("us-speech"==this.keyArr[t])break;e.src=this.arr[t],e.play()},finished(e){alert("今天背了"+e+"条")},sentenseSpeech(){let e=new Audio;e.src=this.sentence.speakUrl,e.play()}},mounted(){null!=this.$store.state.uid&&""!=this.$store.state.uid&&void 0!==this.$store.state.uid||(alert("请先登录"),this.$router.push("/pc/login"));let e=Array.from(this.$route.query.data);this.wordList=e,this.n=0,this.getWordInfo(this.wordList[0].value)}},h=a,l=(s("58af"),s("7966"),s("2877")),d=Object(l["a"])(h,i,n,!1,null,"bcab79d0",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-77966d85.d24c99fd.js.map