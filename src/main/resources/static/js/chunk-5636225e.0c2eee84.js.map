{"version":3,"sources":["webpack:///./views/ReciteWords.vue","webpack:///views/ReciteWords.vue","webpack:///./views/ReciteWords.vue?4677","webpack:///./views/ReciteWords.vue?f12d","webpack:///./views/ReciteWords.vue?7aa3","webpack:///./views/ReciteWords.vue?6fd8"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","onClickLeft","onClickRight","markWord","wordList","n","marked","_v","model","value","displayEnglish","callback","$$v","expression","displayChinese","isSentense","_e","_s","wordInfo","word","uk_phonetic","ukSpeech","us_phonetic","usSpeech","_l","explains","exp","index","key","wordGroup","length","flag","web","sentences","en","cn","sentence","query","translation","ref","sentenseSpeech","jump","previous","next","staticRenderFns","name","data","currentWord","phoneticArr","basic","arr","keyArr","hasCustomTranslation","methods","Toast","history","axios","method","url","wid","then","res","Notify","type","message","open","confirmButtonText","cancelButtonText","inputPattern","inputErrorMessage","catch","open2","showClose","isEmpty","getWordInfo","console","FileukSpeech","audio","FileusSpeech","getFromYouDao","headers","q","from","to","salt","curtime","appKey","sign","signType","ext","voice","strict","truncate","YDukSpeech","YDusSpeech","finished","alert","mounted","component"],"mappings":"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BAEAC,gBAAAC,eAAAC,0BAEAF,gBAAAC,cAAAC,oBAKAvB,OACA,aAGAwB,OACA,kCACAC,uBACAC,sBACAC,sBACAC,mCAEAT,KAAA,EAAAnD,YACA,eACAsD,eACAC,kBAGA,6BACA,eACAD,eACAC,2BAGA,WACA,iDAGAM,MAAA,KACA,eACAP,YACAC,oBAIAO,SACA,eACAC,aACAR,UACAD,kBAIAU,WACA,kCAMAC,eACA,mBACAlB,KACAC,cACAC,sCACAZ,yBACA3B,WAEAyC,KAAAC,IACA,oBAEA,aACA,gDACA,2BACA,6BAGA,aACAc,eACA,0BAEA,uDAEA,4EAKAhC,OACA,+BACA,SACA,+CAEA,WACA,8CAIAD,WACA,UACA,oBAEA,WACA,UACA,WACA,gDAKArB,WACA,UACA,oBAEA,mBAGAE,WACA,UACA,oBAEA,mBAIAqD,eACA,gBAEAC,MACA,4DACAA,UAEAC,eACA,gBAEAD,MACA,4DACAA,UAGAE,iBACA,yCACA,qBACA,uBACA,2BACAvB,KACAC,cACAC,0BAEAsB,SAAA,oDACAlC,yBACAmC,IACAC,UACAC,YACAC,OACAC,UACAC,SACAC,kBACAD,0BAEAE,cACAC,UACAC,UACAC,kBAEA/B,KAAAC,IAGA,GAFAc,oBAEA,iBACA,mBACA,iCACA,6CAEA,wDACA,mEAEA,2CACA,CACA,mBAGA,wBACA,mCACA,oCAEA,QACA,+BACA,uCAEA,gCAEA,QACA,+BACA,uCAEA,gCAEAA,8BAEA,8CACA,8CACA,2BACA,qBACA,2CACA,uDAEA,wEAGA,2BACA,6BACAA,+BAIAiB,YACA,eACA,eACA,yCAGAC,aACA,gBAEA,IACA,+BACA,qCAEAhB,kBACAA,UAGAiB,aACA,gBAEA,IACA,+BACA,qCAEAjB,kBACAA,UAGAkB,YACAC,qBAGAxD,iBACA,gBACAqC,6BACAA,WAIAoB,UAEA,6BACA,gCACA,4BAEAD,cACA,mCAQA,yCAEA,gBACA,SAEA,2CC/bsU,I,kCCSlUE,EAAY,eACd,EACAzG,EACAmD,GACA,EACA,KACA,WACA,MAIa,aAAAsD,E,2CCpBf,W,kCCAA,W","file":"js/chunk-5636225e.0c2eee84.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"all\"},[_c('van-nav-bar',{attrs:{\"title\":\"标题\",\"left-text\":\"返回\",\"right-text\":\"待定\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft,\"click-right\":_vm.onClickRight}}),_c('van-button',{staticClass:\"mark\",attrs:{\"plain\":\"\",\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":_vm.markWord}},[(_vm.wordList[_vm.n].marked == '0')?_c('div',[_vm._v(\"标记\")]):_c('div',[_vm._v(\"取消标记\")])]),_c('el-checkbox',{attrs:{\"id\":\"english\"},model:{value:(_vm.displayEnglish),callback:function ($$v) {_vm.displayEnglish=$$v},expression:\"displayEnglish\"}},[_vm._v(\"英 \")]),_c('el-checkbox',{attrs:{\"id\":\"chinese\"},model:{value:(_vm.displayChinese),callback:function ($$v) {_vm.displayChinese=$$v},expression:\"displayChinese\"}},[_vm._v(\"中 \")]),(!_vm.isSentense)?_c('el-card',[(_vm.displayEnglish)?_c('div',{staticClass:\"value\"},[_c('p',{attrs:{\"id\":\"word\"}},[_vm._v(\" \"+_vm._s(_vm.wordInfo.word)+\" \")])]):_vm._e(),(!_vm.displayEnglish)?_c('div',{staticClass:\"value\"},[_c('p',{attrs:{\"id\":\"word\"}},[_vm._v(\"*\")])]):_vm._e(),_c('div',{staticClass:\"announce\"},[_vm._v(\" 英式读音 \"),_c('van-icon',{attrs:{\"name\":\"\"}}),_vm._v(\" \"+_vm._s(_vm.wordInfo.uk_phonetic)+\" \"),_c('van-button',{attrs:{\"type\":\"info\",\"size\":\"mini\",\"icon\":\"volume-o\"},on:{\"click\":_vm.ukSpeech}}),_c('br'),_vm._v(\" 美式读音 \"+_vm._s(_vm.wordInfo.us_phonetic)+\" \"),_c('van-button',{attrs:{\"type\":\"info\",\"size\":\"mini\",\"icon\":\"volume-o\"},on:{\"click\":_vm.usSpeech}})],1),_c('h3',[_vm._v(\"释义\")]),(_vm.displayChinese)?_c('div',[_c('div',{staticClass:\"explains\"},_vm._l((_vm.wordInfo.explains),function(exp,index){return _c('ul',{key:index},[_c('li',[_vm._v(\" \"+_vm._s(exp)+\" \")])])}),0),(_vm.wordInfo.wordGroup.length)?_c('div',[_c('h3',[_vm._v(\"词组\")]),_vm._l((_vm.wordInfo.wordGroup),function(exp,index){return _c('ul',{key:index},[_c('li',[_vm._v(\" \"+_vm._s(exp)+\" \")])])})],2):_vm._e(),(!this.flag)?_c('div',[_c('h3',[_vm._v(\"网络释义及词组\")]),_vm._l((_vm.wordInfo.web),function(exp,index){return _c('ul',{key:index},[_c('li',[_vm._v(\" \"+_vm._s(exp.key)+\" \"+_vm._s(exp.value)+\" \")])])})],2):_vm._e(),(_vm.wordInfo.sentences.length)?_c('div',[_c('h3',[_vm._v(\"双语例句\")]),_vm._l((_vm.wordInfo.sentences),function(exp,index){return _c('ul',{key:index},[_c('li',[_vm._v(\" \"+_vm._s(exp.en)+\" \"+_vm._s(exp.cn)+\" \")])])})],2):_vm._e()]):_vm._e()]):_vm._e(),(_vm.isSentense)?_c('el-card',[_c('h2',[_vm._v(\"句子\")]),(_vm.displayEnglish)?_c('h4',[_vm._v(\" \"+_vm._s(_vm.sentence.query)+\" \")]):_vm._e(),_c('br'),_c('h2',[_vm._v(\"释义\")]),(_vm.displayChinese)?_c('h4',[_vm._v(\" \"+_vm._s(_vm.sentence.translation)+\" \")]):_vm._e(),_c('el-button',{ref:\"uk\",attrs:{\"type\":\"primary\",\"plain\":\"\",\"icon\":\"el-icon-service\",\"size\":\"mini\"},on:{\"click\":_vm.sentenseSpeech}})],1):_vm._e(),_c('p',{attrs:{\"id\":\"index\"},on:{\"click\":_vm.jump}},[_vm._v(_vm._s(_vm.n + 1)+\"/\"+_vm._s(_vm.wordList.length))]),_c('van-button',{attrs:{\"plain\":\"\",\"id\":\"btn1\",\"type\":\"info\",\"size\":\"small\"},on:{\"click\":_vm.previous}},[_vm._v(\"上一个 \")]),_c('van-button',{attrs:{\"plain\":\"\",\"id\":\"btn2\",\"type\":\"info\",\"size\":\"small\"},on:{\"click\":_vm.next}},[_vm._v(\"下一个 \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"all\">\r\n    <van-nav-bar\r\n      title=\"标题\"\r\n      left-text=\"返回\"\r\n      right-text=\"待定\"\r\n      left-arrow\r\n      @click-left=\"onClickLeft\"\r\n      @click-right=\"onClickRight\"\r\n    />\r\n    <van-button class=\"mark\" plain type=\"danger\" size=\"small\" @click=\"markWord\">\r\n      <div v-if=\"wordList[n].marked == '0'\">标记</div>\r\n      <div v-else>取消标记</div>\r\n    </van-button>\r\n    <el-checkbox v-model=\"displayEnglish\" id=\"english\">英 </el-checkbox>\r\n    <el-checkbox v-model=\"displayChinese\" id=\"chinese\">中 </el-checkbox>\r\n\r\n    <!-- 单词 -->\r\n    <el-card v-if=\"!isSentense\">\r\n      <div class=\"value\" v-if=\"displayEnglish\">\r\n        <p id=\"word\">\r\n          {{ wordInfo.word }}\r\n        </p>\r\n      </div>\r\n      <div class=\"value\" v-if=\"!displayEnglish\">\r\n        <p id=\"word\">*</p>\r\n      </div>\r\n\r\n      <div class=\"announce\">\r\n        英式读音\r\n\r\n        <van-icon name=\"\" />\r\n        {{ wordInfo.uk_phonetic }}\r\n\r\n        <van-button type=\"info\" size=\"mini\" icon=\"volume-o\" @click=\"ukSpeech\">\r\n        </van-button>\r\n\r\n        <br />\r\n        美式读音\r\n        {{ wordInfo.us_phonetic }}\r\n        <van-button type=\"info\" size=\"mini\" icon=\"volume-o\" @click=\"usSpeech\">\r\n        </van-button>\r\n      </div>\r\n      <h3>释义</h3>\r\n\r\n      <div v-if=\"displayChinese\">\r\n        <div class=\"explains\">\r\n          <ul v-for=\"(exp, index) in wordInfo.explains\" :key=\"index\">\r\n            <li>\r\n              {{ exp }}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div v-if=\"wordInfo.wordGroup.length\">\r\n          <h3>词组</h3>\r\n          <ul v-for=\"(exp, index) in wordInfo.wordGroup\" :key=\"index\">\r\n            <li>\r\n              {{ exp }}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div v-if=\"!this.flag\">\r\n          <h3>网络释义及词组</h3>\r\n          <ul v-for=\"(exp, index) in wordInfo.web\" :key=\"index\">\r\n            <li>\r\n              {{ exp.key }}\r\n              {{ exp.value }}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div v-if=\"wordInfo.sentences.length\">\r\n          <h3>双语例句</h3>\r\n          <ul v-for=\"(exp, index) in wordInfo.sentences\" :key=\"index\">\r\n            <li>\r\n              {{ exp.en }}\r\n              {{ exp.cn }}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n    <!-- 句子 -->\r\n    <el-card v-if=\"isSentense\">\r\n      <h2>句子</h2>\r\n      <h4 v-if=\"displayEnglish\">\r\n        {{ sentence.query }}\r\n      </h4>\r\n\r\n      <br />\r\n      <h2>释义</h2>\r\n      <h4 v-if=\"displayChinese\">\r\n        {{ sentence.translation }}\r\n      </h4>\r\n      <el-button\r\n        type=\"primary\"\r\n        plain\r\n        icon=\"el-icon-service\"\r\n        size=\"mini\"\r\n        ref=\"uk\"\r\n        @click=\"sentenseSpeech\"\r\n      >\r\n      </el-button>\r\n    </el-card>\r\n    <p id=\"index\" @click=\"jump\">{{ n + 1 }}/{{ wordList.length }}</p>\r\n\r\n    <van-button plain id=\"btn1\" type=\"info\" size=\"small\" @click=\"previous\"\r\n      >上一个\r\n    </van-button>\r\n\r\n    <van-button plain id=\"btn2\" type=\"info\" size=\"small\" @click=\"next\"\r\n      >下一个\r\n    </van-button>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport { Notify } from \"vant\";\r\nimport { Toast } from \"vant\";\r\n\r\n//代表能否在后台直接查询到单词信息的flag\r\n\r\nexport default {\r\n  name: \"MyWords\",\r\n\r\n  data() {\r\n    return {\r\n      currentWord: \"\",\r\n      wordList: [],\r\n      //好像不能动态的添加属性到对象中去,所以要先定义对象,否则在后面虽然添加进去了,但是在模板中的对象是没有这些属性的,大概是这样吧...\r\n      wordInfo: {\r\n        sentences: [],\r\n        wordGroup: [],\r\n        uk_phonetic: \"\",\r\n        us_phonetic: \"\",\r\n        word: \"\",\r\n        explains: [],\r\n        web: [],\r\n      },\r\n      phoneticArr: [],\r\n      basic: {},\r\n      arr: [],\r\n      keyArr: [],\r\n      flag: true,\r\n      isSentense: false,\r\n      sentence: {},\r\n      n: 0,\r\n\r\n      displayEnglish: true,\r\n      displayChinese: true,\r\n      hasCustomTranslation: false,\r\n    };\r\n  },\r\n  methods: {\r\n    onClickLeft() {\r\n      Toast(\"返回\");\r\n      history.go(-1);\r\n    },\r\n    onClickRight() {\r\n      Toast(\"按钮\");\r\n    },\r\n    // 标记单词\r\n    markWord() {\r\n      axios({\r\n        method: \"post\",\r\n        url: this.$baseURL + \"/word/mark\",\r\n        data: this.$qs.stringify({\r\n          wid: this.wordList[this.n].wid,\r\n        }),\r\n      }).then((res) => {\r\n        if (res.data.status == 200) {\r\n          if (this.wordList[this.n].marked == 1) {\r\n            this.wordList[this.n].marked = 0;\r\n          } else {\r\n            this.wordList[this.n].marked = 1;\r\n          }\r\n          Notify({ type: \"success\", message: res.data.message });\r\n        } else {\r\n          Notify({ type: \"danger\", message: \"标记失败\" });\r\n        }\r\n      });\r\n    },\r\n    //skip\r\n    jump() {\r\n      this.open();\r\n    },\r\n    // skip对话框\r\n    open() {\r\n      this.$prompt(\"请输入要跳转的index\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        inputPattern: /[0-9]+/,\r\n        inputErrorMessage: \"格式不正确,请输入纯数字\",\r\n      })\r\n        .then(({ value }) => {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"跳转到\" + value,\r\n          });\r\n\r\n          if (value > this.wordList.length && value >= 0) {\r\n            this.$message({\r\n              type: \"warning\",\r\n              message: \"out of range!\",\r\n            });\r\n          } else {\r\n            this.n = value - 1;\r\n            this.getWordInfo(this.wordList[this.n].value);\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"取消输入\",\r\n          });\r\n        });\r\n    },\r\n    open2(msg) {\r\n      this.$message({\r\n        showClose: true,\r\n        message: msg,\r\n        type: \"success\",\r\n      });\r\n    },\r\n\r\n    isEmpty(str) {\r\n      if (str == null || str == \"\" || str == undefined) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    getWordInfo(targetWord) {\r\n      this.isSentense = false;\r\n      axios({\r\n        method: \"post\",\r\n        url: this.$baseURL + \"/word/getWordInfo\",\r\n        data: this.$qs.stringify({\r\n          word: targetWord,\r\n        }),\r\n      }).then((res) => {\r\n        if (res.data.status == 400) {\r\n          //词库里面没有的话就调用有道的接口去翻译\r\n          this.flag = false;\r\n          this.getFromYouDao(this.wordList[this.n].value);\r\n          this.wordInfo.sentences = [];\r\n          this.wordInfo.wordGroup = [];\r\n        } else {\r\n          //有就直接显示\r\n          this.flag = true;\r\n          console.log(res);\r\n          this.wordInfo = res.data.data;\r\n          //自定义解释非空则替换\r\n          if(!this.isEmpty(this.wordList[this.n].customTranslation)){\r\n           \r\n              this.wordInfo.explains.unshift(this.wordList[this.n].customTranslation)\r\n          }\r\n        }\r\n      });\r\n    },\r\n    next() {\r\n      if (this.n < this.wordList.length - 1) {\r\n        this.n++;\r\n        this.getWordInfo(this.wordList[this.n].value);\r\n      } else {\r\n        this.open2(\r\n          \"已经是最后一个单词了,今日共背了\" + this.wordList.length + \"个\"\r\n        );\r\n      }\r\n    },\r\n    previous() {\r\n      if (this.n == 0) {\r\n        this.open2(\"已经到头了\");\r\n      } else {\r\n        if (this.n > 0) {\r\n          this.n--;\r\n          if (this.n != -1) {\r\n            this.getWordInfo(this.wordList[this.n].value);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    ukSpeech() {\r\n      if (this.flag) {\r\n        this.FileukSpeech();\r\n      } else {\r\n        this.YDukSpeech();\r\n      }\r\n    },\r\n    usSpeech() {\r\n      if (this.flag) {\r\n        this.FileusSpeech();\r\n      } else {\r\n        this.YDusSpeech();\r\n      }\r\n    },\r\n\r\n    FileukSpeech() {\r\n      let audio = new Audio();\r\n\r\n      audio.src =\r\n        \"http://121.40.113.226/audio/\" + this.wordInfo.word + \"_uk.mp3\";\r\n      audio.play();\r\n    },\r\n    FileusSpeech() {\r\n      let audio = new Audio();\r\n\r\n      audio.src =\r\n        \"http://121.40.113.226/audio/\" + this.wordInfo.word + \"_us.mp3\";\r\n      audio.play();\r\n    },\r\n\r\n    getFromYouDao(word) {\r\n      let key = \"mtKD1CVzlGrj2rcSxK4DzTPz9m4zRscM\";\r\n      let appKey = \"50649feb1569418e\";\r\n      let salt = new Date().getTime();\r\n      let curtime = Date.parse(new Date()) / 1000;\r\n      axios({\r\n        method: \"post\",\r\n        url: this.$baseURL + \"/api/\",\r\n        // url: 'api',\r\n        headers: { \"content-type\": \"application/x-www-form-urlencoded\" },\r\n        data: this.$qs.stringify({\r\n          q: word,\r\n          from: \"en\",\r\n          to: \"zh-CHS\",\r\n          salt: salt,\r\n          curtime: curtime,\r\n          appKey: appKey,\r\n          sign: this.$sha256(\r\n            appKey + this.truncate(word) + salt + curtime + key\r\n          ),\r\n          signType: \"v3\",\r\n          ext: \"mp3\",\r\n          voice: \"0\",\r\n          strict: \"true\",\r\n        }),\r\n      }).then((res) => {\r\n        console.log(res.data);\r\n        //修改显示的卡片\r\n        if (res.data.isWord == false) {\r\n          this.isSentense = true;\r\n          this.sentence.query = res.data.query;\r\n          this.sentence.translation = res.data.translation;\r\n          //如果有自定义翻译则进行替换\r\n          if(!this.isEmpty(this.wordList[this.n].customTranslation)){\r\n              this.sentence.translation=this.wordList[this.n].customTranslation\r\n          }\r\n          this.sentence.speakUrl = res.data.speakUrl;\r\n        } else {\r\n          this.isSentense = false;\r\n\r\n          // console.log(res)\r\n          this.basic = res.data.basic;\r\n          this.arr = Object.values(this.basic);\r\n          this.keyArr = Object.keys(this.basic);\r\n          //设置读音数组\r\n          let i = 0;\r\n          for (i; i < this.keyArr.length; i++) {\r\n            if (this.keyArr[i] == \"uk-phonetic\") break;\r\n          }\r\n          this.phoneticArr[0] = this.arr[i];\r\n\r\n          let j = 0;\r\n          for (j; j < this.keyArr.length; j++) {\r\n            if (this.keyArr[j] == \"us-phonetic\") break;\r\n          }\r\n          this.phoneticArr[1] = this.arr[j];\r\n\r\n          console.log(this.phoneticArr);\r\n          //替换有道接口的结果到wordInfo对应的字段\r\n          this.wordInfo.uk_phonetic = this.phoneticArr[0];\r\n          this.wordInfo.us_phonetic = this.phoneticArr[1];\r\n          this.wordInfo.sentences = [];\r\n          this.wordInfo.word = word;\r\n          this.wordInfo.explains = this.basic.explains;\r\n          if(!this.isEmpty(this.wordList[this.n].customTranslation)){\r\n           \r\n              this.wordInfo.explains.unshift(this.wordList[this.n].customTranslation)\r\n          }\r\n\r\n          this.wordInfo.wordGroup = [];\r\n          this.wordInfo.web = res.data.web;\r\n          console.log(this.wordInfo);\r\n        }\r\n      });\r\n    },\r\n    truncate(q) {\r\n      let len = q.length;\r\n      if (len <= 20) return q;\r\n      return q.substring(0, 10) + len + q.substring(len - 10, len);\r\n    },\r\n\r\n    YDukSpeech() {\r\n      let audio = new Audio();\r\n      //这里由于vue对变量名中含有-死活没法操作,只能强行将对象转换为数组之后再取值了\r\n      let i = 0;\r\n      for (i; i < this.keyArr.length; i++) {\r\n        if (this.keyArr[i] == \"uk-speech\") break;\r\n      }\r\n      audio.src = this.arr[i];\r\n      audio.play();\r\n      // console.log(this.arr[i])\r\n    },\r\n    YDusSpeech() {\r\n      let audio = new Audio();\r\n      //这里由于vue对变量名中含有-死活没法操作,只能强行将对象转换为数组之后再取值了\r\n      let j = 0;\r\n      for (j; j < this.keyArr.length; j++) {\r\n        if (this.keyArr[j] == \"us-speech\") break;\r\n      }\r\n      audio.src = this.arr[j];\r\n      audio.play();\r\n      // console.log(this.arr[j])\r\n    },\r\n    finished(num) {\r\n      alert(\"今天背了\" + num + \"条\");\r\n    },\r\n\r\n    sentenseSpeech() {\r\n      let audio = new Audio();\r\n      audio.src = this.sentence.speakUrl;\r\n      audio.play();\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    if (\r\n      this.$store.state.uid == null ||\r\n      this.$store.state.uid == \"\" ||\r\n      this.$store.state.uid === undefined\r\n    ) {\r\n      alert(\"请先登录\");\r\n      this.$router.push(\"/phone/login\");\r\n    }\r\n\r\n    /**\r\n     * 获得别的页面跳转前请求到的单词数据data数组\r\n     *\r\n     */\r\n\r\n    let list = Array.from(this.$route.query.data);\r\n\r\n    this.wordList = list;\r\n    this.n = 0;\r\n\r\n    this.getWordInfo(this.wordList[0].value);\r\n\r\n    // axios({\r\n    //   method: 'post',\r\n    //   url: this.$baseURL+'/word/todayWords',\r\n    //   data: {\r\n    //     uid: this.$store.state.uid,\r\n    //   },\r\n    // }).then((res) => {\r\n    //   this.n = 0\r\n    //   console.log(res)\r\n\r\n    //   // this.wordList = res.data.data\r\n    //   res.data.data.forEach((element) => {\r\n    //     this.wordList.push(element.value)\r\n    //   })\r\n\r\n    //   this.getWordInfo(this.wordList[0])\r\n    //   if (\r\n    //     this.wordList.length == 0 &&\r\n    //     !(\r\n    //       this.$store.state.uid == null ||\r\n    //       this.$store.state.uid == '' ||\r\n    //       this.$store.state.uid === undefined\r\n    //     )\r\n    //   ) {\r\n    //     alert(\r\n    //       '今天还没有单词要背哦,先去添加单词吧,添加完一般第二天才可以获取,记得今天先背添加的单词哦'\r\n    //     )\r\n    //   }\r\n    // })\r\n  },\r\n};\r\n</script>\r\n<style  scoped>\r\n#btn1 {\r\n  position: fixed;\r\n  left: 0.3rem;\r\n  bottom: 6.25rem;\r\n}\r\n#btn2 {\r\n  position: fixed;\r\n  right: 0.3rem;\r\n  bottom: 6.25rem;\r\n}\r\n\r\n.value {\r\n  margin-top: -2.5rem;\r\n  /* height: 7vh; */\r\n  font-size: 1.8rem;\r\n}\r\n\r\n.announce {\r\n  margin-top: -1rem;\r\n  /* height: 5vh; */\r\n}\r\nul li {\r\n  list-style: none;\r\n}\r\n.card {\r\n  overflow-y: auto; /* 开启滚动显示溢出内容 */\r\n}\r\n/* 下面的单词页标 */\r\n#index {\r\n  margin-left: 10rem;\r\n}\r\n#chinese {\r\n  font-size: 0.9375rem;\r\n  top: 3.5rem;\r\n  right: 2.5rem;\r\n  position: fixed;\r\n}\r\n\r\n#english {\r\n  font-size: 0.9375rem;\r\n  right: 0.6rem;\r\n  top: 5rem;\r\n  position: fixed;\r\n}\r\n.mark {\r\n  font-size: 0.9375rem;\r\n  right: 2.5rem;\r\n  top: 6.5rem;\r\n  position: fixed;\r\n}\r\n</style>\r\n<style>\r\n.el-message-box {\r\n  width: 18.75rem;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReciteWords.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReciteWords.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReciteWords.vue?vue&type=template&id=8abaa758&scoped=true&\"\nimport script from \"./ReciteWords.vue?vue&type=script&lang=js&\"\nexport * from \"./ReciteWords.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReciteWords.vue?vue&type=style&index=0&id=8abaa758&prod&scoped=true&lang=css&\"\nimport style1 from \"./ReciteWords.vue?vue&type=style&index=1&id=8abaa758&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8abaa758\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReciteWords.vue?vue&type=style&index=0&id=8abaa758&prod&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReciteWords.vue?vue&type=style&index=1&id=8abaa758&prod&lang=css&\""],"sourceRoot":""}