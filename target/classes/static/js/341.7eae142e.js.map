{"version":3,"file":"js/341.7eae142e.js","mappings":"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","sources":["webpack://vue-manage/./views/MyWords.vue","webpack://vue-manage/views/MyWords.vue","webpack://vue-manage/./views/MyWords.vue?fabd","webpack://vue-manage/./views/MyWords.vue?8020"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"all\"},[_c('div',{staticClass:\"value\"},[_c('p',{attrs:{\"id\":\"word\"}},[_vm._v(\" \"+_vm._s(_vm.currentWord))])]),_c('div',{staticClass:\"announce\"},[_vm._v(\" 英式读音 /\"+_vm._s(_vm.phoneticArr[0])+\"/ \"),_c('el-button',{ref:\"uk\",attrs:{\"type\":\"primary\",\"plain\":\"\",\"icon\":\"el-icon-service\",\"size\":\"mini\"},on:{\"click\":_vm.ukSpeech}}),_vm._v(\" 美式读音 /\"+_vm._s(_vm.phoneticArr[1])+\"/ \"),_c('el-button',{ref:\"us\",attrs:{\"type\":\"primary\",\"plain\":\"\",\"icon\":\"el-icon-service\",\"size\":\"mini\"},on:{\"click\":_vm.usSpeech}})],1),_c('div',{staticClass:\"translation\"},_vm._l((_vm.basic.explains),function(exp,index){return _c('ul',{key:index},[_c('li',[_vm._v(\" \"+_vm._s(exp)+\" \")])])}),0),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\",\"id\":\"btn1\"},on:{\"click\":_vm.previous}},[_vm._v(\"上一个 \")]),_c('el-button',{attrs:{\"type\":\"success\",\"plain\":\"\",\"id\":\"btn2\"},on:{\"click\":_vm.next}},[_vm._v(\"下一个 \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"all\">\r\n\r\n    <div class=\"value\">\r\n      <p id=\"word\">\r\n        {{currentWord}}</p>\r\n    </div>\r\n    <div class=\"announce\">\r\n      英式读音\r\n      /{{phoneticArr[0]}}/\r\n      <el-button\r\n        type=\"primary\" plain\r\n        icon=\"el-icon-service\"\r\n        size=\"mini\" ref=\"uk\"\r\n        @click=\"ukSpeech\">\r\n      </el-button>\r\n      美式读音\r\n      /{{phoneticArr[1]}}/\r\n      <el-button\r\n        type=\"primary\" plain\r\n        icon=\"el-icon-service\"\r\n        size=\"mini\" ref=\"us\"\r\n        @click=\"usSpeech\">\r\n      </el-button>\r\n\r\n    </div>\r\n    <div class=\"translation\">\r\n      <ul\r\n        v-for=\"(exp,index) in basic.explains\"\r\n        :key=\"index\">\r\n        <li>\r\n          {{exp}}\r\n        </li>\r\n      </ul>\r\n\r\n    </div>\r\n    <el-button type=\"primary\"\r\n      plain id=\"btn1\"\r\n      @click=\"previous\">上一个\r\n    </el-button>\r\n    <!-- <el-button type=\"danger\"\r\n      plain id=\"btn3\">标记不会\r\n    </el-button> -->\r\n    <el-button type=\"success\"\r\n      plain id=\"btn2\"\r\n      @click=\"next\">下一个\r\n    </el-button>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios'\r\nconst appKey = '50649feb1569418e'\r\nconst key = 'mtKD1CVzlGrj2rcSxK4DzTPz9m4zRscM'\r\nlet n = -1\r\n\r\nexport default {\r\n  name: 'MyWords',\r\n\r\n  data() {\r\n    return {\r\n      currentWord: '',\r\n      wordList: [],\r\n      basic: {},\r\n      arr: [],\r\n      keyArr: [],\r\n      phoneticArr: [],\r\n      query: {\r\n        q: 'string',\r\n      },\r\n    }\r\n  },\r\n  methods: {\r\n    translate() {\r\n      let that = this\r\n      let salt = new Date().getTime()\r\n      let curtime = Date.parse(new Date()) / 1000\r\n      axios({\r\n        method: 'post',\r\n        url: 'http://121.40.113.226:7777/api/',\r\n        headers: { 'content-type': 'application/x-www-form-urlencoded' },\r\n        data: this.$qs.stringify({\r\n          q: this.currentWord,\r\n          from: 'en',\r\n          to: 'zh-CHS',\r\n          salt: salt,\r\n          curtime: curtime,\r\n          appKey: appKey,\r\n          sign: this.$sha256(appKey + this.truncate(this.currentWord) + salt + curtime + key),\r\n          signType: 'v3',\r\n          ext: 'mp3',\r\n          voice: '0',\r\n          strict: 'true',\r\n        }),\r\n      }).then((res) => {\r\n        // console.log(res)\r\n        this.basic = res.data.basic\r\n        this.arr = Object.values(this.basic)\r\n        this.keyArr = Object.keys(this.basic)\r\n        //设置读音数组\r\n        let i = 0\r\n        for (i; i < this.keyArr.length; i++) {\r\n          if (this.keyArr[i] == 'uk-phonetic') break\r\n        }\r\n        this.phoneticArr[0] = this.arr[i]\r\n\r\n        let j = 0\r\n        for (j; j < this.keyArr.length; j++) {\r\n          if (this.keyArr[j] == 'us-phonetic') break\r\n        }\r\n        this.phoneticArr[1] = this.arr[j]\r\n\r\n\r\n      })\r\n    },\r\n    truncate(q) {\r\n      let len = q.length\r\n      if (len <= 20) return q\r\n      return q.substring(0, 10) + len + q.substring(len - 10, len)\r\n    },\r\n    next() {\r\n        \r\n      if(this.wordList.length!==0){\r\n        if (n >= this.wordList.length - 1) {\r\n          \r\n        alert('已经到底了')\r\n      } else {\r\n        n = n + 1\r\n        this.currentWord = this.wordList[n]\r\n      }\r\n      }\r\n      \r\n      this.translate()\r\n    },\r\n    previous() {\r\n      if (n == 0) {\r\n        alert('已经到头了')\r\n      } else {\r\n        n = n - 1\r\n        this.currentWord = this.wordList[n]\r\n      }\r\n\r\n      this.translate()\r\n    },\r\n    ukSpeech() {\r\n      let audio = new Audio()\r\n      //这里由于vue对变量名中含有-死活没法操作,只能强行将对象转换为数组之后再取值了\r\n      let i = 0\r\n      for (i; i < this.keyArr.length; i++) {\r\n        if (this.keyArr[i] == 'uk-speech') break\r\n      }\r\n      audio.src = this.arr[i]\r\n      audio.play()\r\n      // console.log(this.arr[i])\r\n    },\r\n    usSpeech() {\r\n      let audio = new Audio()\r\n      //这里由于vue对变量名中含有-死活没法操作,只能强行将对象转换为数组之后再取值了\r\n      let j = 0\r\n      for (j; j < this.keyArr.length; j++) {\r\n        if (this.keyArr[j] == 'us-speech') break\r\n      }\r\n      audio.src = this.arr[j]\r\n      audio.play()\r\n      // console.log(this.arr[j])\r\n    },\r\n\r\n    \r\n  },\r\n\r\n  mounted() {\r\n    if (\r\n      this.$store.state.uid == null ||\r\n      this.$store.state.uid == '' ||\r\n      this.$store.state.uid===undefined\r\n    ) {\r\n      alert(\"请先登录\")\r\n      this.$router.push('/login')\r\n    }\r\n    axios({\r\n      method: 'post',\r\n      url: 'http://121.40.113.226:7778/word/todayWords',\r\n      data: {\r\n        uid: this.$store.state.uid,\r\n      },\r\n    }).then((res) => {\r\n      // console.log(res)\r\n      this.wordList = res.data.data\r\n      if(this.wordList.length==0){\r\n          alert(\"今天还没有单词要背哦,先去添加单词吧,添加完一般第二天才可以获取,记得今天先背添加的单词哦\")\r\n      }\r\n      this.next()   \r\n    })\r\n  },\r\n\r\n\r\n}\r\n</script>\r\n<style>\r\n#btn1 {\r\n  position: fixed;\r\n  left: 30px;\r\n  bottom: 100px;\r\n}\r\n#btn2 {\r\n  position: fixed;\r\n  right:  30px;\r\n  bottom: 100px;\r\n}\r\n/* #btn3 {\r\n  position: fixed;\r\n  left: 150px;\r\n  bottom: 100px;\r\n} */\r\n.value {\r\n  margin-top: -5vh;\r\n  height: 7vh;\r\n  font-size: 2em;\r\n}\r\n.translation {\r\n  height: 40vh;\r\n}\r\n.announce {\r\n  height: 5vh;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MyWords.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MyWords.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyWords.vue?vue&type=template&id=4ce7849e&\"\nimport script from \"./MyWords.vue?vue&type=script&lang=js&\"\nexport * from \"./MyWords.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyWords.vue?vue&type=style&index=0&id=4ce7849e&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","_v","_s","currentWord","phoneticArr","ref","on","ukSpeech","usSpeech","_l","basic","explains","exp","index","key","previous","next","staticRenderFns","appKey","n","name","data","wordList","arr","keyArr","query","q","methods","translate","axios","method","url","headers","from","to","salt","curtime","sign","signType","ext","voice","strict","then","res","truncate","alert","audio","mounted","uid","component"],"sourceRoot":""}