{"version":3,"sources":["webpack:///./views/MyLogin.vue","webpack:///views/MyLogin.vue","webpack:///./views/MyLogin.vue?b472","webpack:///./views/MyLogin.vue?cd3d","webpack:///./views/MyLogin.vue?5ea5"],"names":["render","_vm","this","_c","_self","_v","on","onSubmit","attrs","required","message","model","value","username","callback","$$v","expression","password","staticStyle","staticClass","toRegister","staticRenderFns","name","data","methods","onClickEnter","login","axios","method","url","then","res","console","Notify","type","mounted","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,KAAK,CAACF,EAAII,GAAG,UAAUF,EAAG,WAAW,CAACG,GAAG,CAAC,OAASL,EAAIM,WAAW,CAACJ,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,MAAM,MAAQ,MAAM,YAAc,MAAM,MAAQ,CAAC,CAAEC,UAAU,EAAMC,QAAS,YAAaC,MAAM,CAACC,MAAOX,EAAIY,SAAUC,SAAS,SAAUC,GAAMd,EAAIY,SAASE,GAAKC,WAAW,cAAcb,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,WAAW,KAAO,KAAK,MAAQ,KAAK,YAAc,KAAK,MAAQ,CAAC,CAAEC,UAAU,EAAMC,QAAS,WAAYC,MAAM,CAACC,MAAOX,EAAIgB,SAAUH,SAAS,SAAUC,GAAMd,EAAIgB,SAASF,GAAKC,WAAW,cAAcb,EAAG,MAAM,CAACe,YAAY,CAAC,OAAS,SAAS,CAACf,EAAG,aAAa,CAACK,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,KAAO,OAAO,cAAc,WAAW,CAACP,EAAII,GAAG,SAAS,IAAI,GAAGF,EAAG,IAAI,CAACgB,YAAY,aAAab,GAAG,CAAC,MAAQL,EAAImB,aAAa,CAACnB,EAAII,GAAG,gBAAgB,IAExzBgB,EAAkB,G,iCC+BP,GACfC,eACAC,OACA,OACAV,YACAI,cAIAO,SACAjB,WAEA,cAEAkB,eACA,iBAIAL,aACA,sCAEAM,QACAC,KACAC,cACAC,gCACAN,MACAV,uBACAI,0BAEAa,KAAAC,IACAC,eACA,oBACA,sCACA,gDACA,gDAMAC,gBAAAC,eAAAxB,2CACA,mCAGAuB,gBAAAC,eAAAxB,0BAKAyB,UACA,yCCpFkU,I,wBCQ9TC,EAAY,eACd,EACApC,EACAqB,GACA,EACA,KACA,WACA,MAIa,aAAAe,E,kECnBf","file":"js/chunk-1c50e15b.ad9a493c.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(\"登录界面\")]),_c('van-form',{on:{\"submit\":_vm.onSubmit}},[_c('van-field',{attrs:{\"name\":\"用户名\",\"label\":\"用户名\",\"placeholder\":\"用户名\",\"rules\":[{ required: true, message: '请填写用户名' }]},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"name\":\"密码\",\"label\":\"密码\",\"placeholder\":\"密码\",\"rules\":[{ required: true, message: '请填写密码' }]},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\"登录\")])],1)],1),_c('p',{staticClass:\"toRegister\",on:{\"click\":_vm.toRegister}},[_vm._v(\"没有账号?立即注册\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n  <div>\r\n    <h1>登录界面</h1>\r\n    <van-form @submit=\"onSubmit\">\r\n  <van-field\r\n    v-model=\"username\"\r\n    name=\"用户名\"\r\n    label=\"用户名\"\r\n    placeholder=\"用户名\"\r\n    :rules=\"[{ required: true, message: '请填写用户名' }]\"\r\n  />\r\n  <van-field\r\n    v-model=\"password\"\r\n    type=\"password\"\r\n    name=\"密码\"\r\n    label=\"密码\"\r\n    placeholder=\"密码\"\r\n    :rules=\"[{ required: true, message: '请填写密码' }]\"\r\n  />\r\n  <div style=\"margin: 16px;\">\r\n    <van-button round block type=\"info\" native-type=\"submit\">登录</van-button>\r\n  </div>\r\n</van-form>\r\n\r\n    <p class=\"toRegister\" @click=\"toRegister\"\r\n      >没有账号?立即注册</p>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios'\r\nimport { Notify } from 'vant';\r\nexport default {\r\n  name: 'MyLogin',\r\n  data() {\r\n    return {\r\n      username: '',\r\n      password: '',\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    onSubmit() {\r\n      \r\n      this.login()\r\n    },\r\n    onClickEnter() {\r\n      this.onSubmit()\r\n    },\r\n    \r\n   \r\n    toRegister() {\r\n      this.$router.push('/phone/register')\r\n    },\r\n    login() {\r\n      axios({\r\n        method: 'post',\r\n        url: this.$baseURL+'/user/login',\r\n        data: {\r\n          username: this.username,\r\n          password: this.password,\r\n        },\r\n      }).then((res) => {\r\n        console.log(res)\r\n        if (res.data.status == 200) {\r\n          this.$store.state.uid = res.data.data.uid\r\n          this.$store.state.username = res.data.data.username\r\n          this.$store.state.nickname = res.data.data.nickname\r\n          // console.log(this.$store.state.uid)\r\n          // console.log(this.$store.state.username)\r\n          // console.log(this.$store.state.nickname)\r\n\r\n\r\n          Notify({ type: 'success', message: '欢迎你'+this.$store.state.nickname });\r\n          this.$router.push('/phone/index')\r\n        } else {\r\n         \r\n          Notify({ type: 'warning', message: '用户名或者密码错误' });\r\n        }\r\n      })\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$keyBoard(this, 'onClickEnter', 13) //13是enter按键  其他按键码自己查\r\n    // console.log(this.$store.state.uid)\r\n    // if (this.$store.state.uid != null&&this.$store.state.uid!==undefined) {\r\n\r\n    //   this.$router.push('/index')\r\n    // }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.toRegister{\r\n  text-decoration: underline;\r\n  color: blue;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyLogin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyLogin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyLogin.vue?vue&type=template&id=ed8e9aaa&scoped=true&\"\nimport script from \"./MyLogin.vue?vue&type=script&lang=js&\"\nexport * from \"./MyLogin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyLogin.vue?vue&type=style&index=0&id=ed8e9aaa&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ed8e9aaa\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyLogin.vue?vue&type=style&index=0&id=ed8e9aaa&prod&scoped=true&lang=css&\""],"sourceRoot":""}